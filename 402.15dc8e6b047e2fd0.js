"use strict";(self.webpackChunke_commerce_platform=self.webpackChunke_commerce_platform||[]).push([[402],{1402:(S,g,i)=>{i.r(g),i.d(g,{AuthModule:()=>G});var u=i(177),c=i(303),e=i(4341),n=i(540),d=i(1626);let m=(()=>{class t{constructor(r){this.http=r,this.apiUrl="https://fakestoreapi.com/auth"}login(r){return this.http.post(`${this.apiUrl}/login`,r)}signup(r){return this.http.post(`${this.apiUrl}/signup`,r)}logout(){localStorage.removeItem("token")}isAuthenticated(){return!!localStorage.getItem("token")}static{this.\u0275fac=function(s){return new(s||t)(n.KVO(d.Qq))}}static{this.\u0275prov=n.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function h(t,a){1&t&&(n.j41(0,"p",11),n.EFF(1," Username is required "),n.k0s())}function f(t,a){1&t&&(n.j41(0,"p",11),n.EFF(1," Password is required "),n.k0s())}function F(t,a){1&t&&(n.j41(0,"p",11),n.EFF(1," Password must be at least 6 characters "),n.k0s())}function C(t,a){if(1&t&&(n.j41(0,"p",11),n.EFF(1),n.k0s()),2&t){const r=n.XpG();n.R7$(1),n.JRh(r.errorMessage)}}function M(t,a){1&t&&(n.j41(0,"p",11),n.EFF(1," Username is required "),n.k0s())}function P(t,a){1&t&&(n.j41(0,"p",11),n.EFF(1," Email is required "),n.k0s())}function k(t,a){1&t&&(n.j41(0,"p",11),n.EFF(1," Enter a valid email address "),n.k0s())}function b(t,a){1&t&&(n.j41(0,"p",11),n.EFF(1," Password is required "),n.k0s())}function O(t,a){1&t&&(n.j41(0,"p",11),n.EFF(1," Password must be at least 6 characters "),n.k0s())}function w(t,a){if(1&t&&(n.j41(0,"p",11),n.EFF(1),n.k0s()),2&t){const r=n.XpG();n.R7$(1),n.JRh(r.errorMessage)}}function v(t,a){1&t&&(n.j41(0,"p",10),n.EFF(1," Email is required "),n.k0s())}function j(t,a){1&t&&(n.j41(0,"p",10),n.EFF(1," Enter a valid email address "),n.k0s())}function x(t,a){if(1&t&&(n.j41(0,"p",11),n.EFF(1),n.k0s()),2&t){const r=n.XpG();n.R7$(1),n.JRh(r.successMessage)}}const y=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class t{constructor(r,s,o){this.authService=r,this.router=s,this.fb=o,this.credentials={username:"",password:""},this.errorMessage="",this.loginForm=this.fb.group({username:["",e.k0.required],password:["",[e.k0.required,e.k0.minLength(6)]]})}login(){this.loginForm.invalid||this.authService.login(this.loginForm.value).subscribe({next:r=>{localStorage.setItem("token",r.token),this.router.navigate(["/products"])},error:r=>{this.errorMessage="Invalid credentials"}})}static{this.\u0275fac=function(s){return new(s||t)(n.rXU(m),n.rXU(c.Ix),n.rXU(e.ok))}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["app-login"]],decls:25,vars:8,consts:[[1,"auth-container"],[1,"auth-card"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","placeholder","Enter username","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],["type","password","placeholder","Enter password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"extra-links"],["routerLink","/auth/signup"],["routerLink","/auth/forgot-password"],[1,"error"]],template:function(s,o){1&s&&(n.j41(0,"div",0)(1,"div",1)(2,"h2"),n.EFF(3,"Login"),n.k0s(),n.j41(4,"form",2),n.bIt("ngSubmit",function(){return o.login()}),n.j41(5,"div",3)(6,"label"),n.EFF(7,"Username"),n.k0s(),n.j41(8,"input",4),n.bIt("ngModelChange",function(p){return o.credentials.username=p}),n.k0s(),n.DNE(9,h,2,0,"p",5),n.k0s(),n.j41(10,"div",3)(11,"label"),n.EFF(12,"Password"),n.k0s(),n.j41(13,"input",6),n.bIt("ngModelChange",function(p){return o.credentials.password=p}),n.k0s(),n.DNE(14,f,2,0,"p",5),n.DNE(15,F,2,0,"p",5),n.k0s(),n.j41(16,"button",7),n.EFF(17,"Login"),n.k0s(),n.DNE(18,C,2,1,"p",5),n.j41(19,"div",8)(20,"a",9),n.EFF(21,"Don't have an account? Sign up"),n.k0s()(),n.j41(22,"div",8)(23,"a",10),n.EFF(24,"Forgot Password?"),n.k0s()()()()()),2&s&&(n.R7$(4),n.Y8G("formGroup",o.loginForm),n.R7$(4),n.Y8G("ngModel",o.credentials.username),n.R7$(1),n.Y8G("ngIf",o.loginForm.controls.username.invalid&&o.loginForm.controls.username.touched),n.R7$(4),n.Y8G("ngModel",o.credentials.password),n.R7$(1),n.Y8G("ngIf",o.loginForm.controls.password.errors&&o.loginForm.controls.password.touched),n.R7$(1),n.Y8G("ngIf",(null==o.loginForm.controls.password.errors?null:o.loginForm.controls.password.errors.minlength)&&o.loginForm.controls.password.touched),n.R7$(1),n.Y8G("disabled",o.loginForm.invalid),n.R7$(2),n.Y8G("ngIf",o.errorMessage))},dependencies:[u.bT,c.Wk,e.qT,e.me,e.BC,e.cb,e.YS,e.vS,e.j4],styles:[".auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:#f4f4f4}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]{width:350px;padding:30px;background:#fff;box-shadow:0 4px 10px #0000001a;border-radius:8px;text-align:center}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{padding:10px;font-size:16px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;margin-top:10px;font-size:14px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .extra-links[_ngcontent-%COMP%]{margin-top:15px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .extra-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .extra-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return t})()},{path:"signup",component:(()=>{class t{constructor(r,s,o){this.authService=r,this.router=s,this.fb=o,this.errorMessage="",this.signupForm=this.fb.group({username:["",e.k0.required],email:["",[e.k0.required,e.k0.email]],password:["",[e.k0.required,e.k0.minLength(6)]]})}signup(){this.authService.signup(this.signupForm.value).subscribe({next:r=>{localStorage.setItem("token",r.token),this.router.navigate(["/products"])},error:r=>{this.errorMessage="Signup failed. Try again."}})}static{this.\u0275fac=function(s){return new(s||t)(n.rXU(m),n.rXU(c.Ix),n.rXU(e.ok))}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["app-signup"]],decls:28,vars:8,consts:[[1,"auth-container"],[1,"auth-card"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","username","placeholder","Enter username",1,"form-control"],["class","error",4,"ngIf"],["type","email","formControlName","email","placeholder","Enter email",1,"form-control"],["type","password","formControlName","password","placeholder","Enter password",1,"form-control"],["type","submit",1,"btn","btn-success","w-100",3,"disabled"],[1,"extra-links"],["routerLink","/auth/login"],[1,"error"]],template:function(s,o){1&s&&(n.j41(0,"div",0)(1,"div",1)(2,"h2"),n.EFF(3,"Sign Up"),n.k0s(),n.j41(4,"form",2),n.bIt("ngSubmit",function(){return o.signup()}),n.j41(5,"div",3)(6,"label"),n.EFF(7,"Username"),n.k0s(),n.nrm(8,"input",4),n.DNE(9,M,2,0,"p",5),n.k0s(),n.j41(10,"div",3)(11,"label"),n.EFF(12,"Email"),n.k0s(),n.nrm(13,"input",6),n.DNE(14,P,2,0,"p",5),n.DNE(15,k,2,0,"p",5),n.k0s(),n.j41(16,"div",3)(17,"label"),n.EFF(18,"Password"),n.k0s(),n.nrm(19,"input",7),n.DNE(20,b,2,0,"p",5),n.DNE(21,O,2,0,"p",5),n.k0s(),n.j41(22,"button",8),n.EFF(23,"Sign Up"),n.k0s(),n.DNE(24,w,2,1,"p",5),n.j41(25,"div",9)(26,"a",10),n.EFF(27,"Already have an account? Login"),n.k0s()()()()()),2&s&&(n.R7$(4),n.Y8G("formGroup",o.signupForm),n.R7$(5),n.Y8G("ngIf",o.signupForm.controls.username.invalid&&o.signupForm.controls.username.touched),n.R7$(5),n.Y8G("ngIf",(null==o.signupForm.controls.email.errors?null:o.signupForm.controls.email.errors.required)&&o.signupForm.controls.email.touched),n.R7$(1),n.Y8G("ngIf",(null==o.signupForm.controls.email.errors?null:o.signupForm.controls.email.errors.email)&&o.signupForm.controls.email.touched),n.R7$(5),n.Y8G("ngIf",(null==o.signupForm.controls.password.errors?null:o.signupForm.controls.password.errors.required)&&o.signupForm.controls.password.touched),n.R7$(1),n.Y8G("ngIf",(null==o.signupForm.controls.password.errors?null:o.signupForm.controls.password.errors.minlength)&&o.signupForm.controls.password.touched),n.R7$(1),n.Y8G("disabled",o.signupForm.invalid),n.R7$(2),n.Y8G("ngIf",o.errorMessage))},dependencies:[u.bT,c.Wk,e.qT,e.me,e.BC,e.cb,e.j4,e.JD],styles:[".auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:#f4f4f4}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]{width:350px;padding:30px;background:#fff;box-shadow:0 4px 10px #0000001a;border-radius:8px;text-align:center}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{padding:10px;font-size:16px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;margin-top:10px;font-size:14px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .extra-links[_ngcontent-%COMP%]{margin-top:15px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .extra-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .extra-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return t})()},{path:"forgot-password",component:(()=>{class t{constructor(r){this.fb=r,this.successMessage="",this.errorMessage="",this.forgotPasswordForm=this.fb.group({email:["",[e.k0.required,e.k0.email]]})}resetPassword(){this.forgotPasswordForm.invalid||(this.successMessage="If your email exists in our system, you will receive a password reset link.")}static{this.\u0275fac=function(s){return new(s||t)(n.rXU(e.ok))}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["app-forgot-password"]],decls:17,vars:5,consts:[[1,"auth-container"],[1,"auth-card"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["class","error",4,"ngIf"],["type","submit",1,"btn","btn-warning","w-100",3,"disabled"],["class","success",4,"ngIf"],[1,"extra-links"],["routerLink","/auth/login"],[1,"error"],[1,"success"]],template:function(s,o){1&s&&(n.j41(0,"div",0)(1,"div",1)(2,"h2"),n.EFF(3,"Forgot Password"),n.k0s(),n.j41(4,"form",2),n.bIt("ngSubmit",function(){return o.resetPassword()}),n.j41(5,"div",3)(6,"label"),n.EFF(7,"Email"),n.k0s(),n.nrm(8,"input",4),n.DNE(9,v,2,0,"p",5),n.DNE(10,j,2,0,"p",5),n.k0s(),n.j41(11,"button",6),n.EFF(12,"Reset Password"),n.k0s(),n.DNE(13,x,2,1,"p",7),n.j41(14,"div",8)(15,"a",9),n.EFF(16,"Back to Login"),n.k0s()()()()()),2&s&&(n.R7$(4),n.Y8G("formGroup",o.forgotPasswordForm),n.R7$(5),n.Y8G("ngIf",(null==o.forgotPasswordForm.controls.email.errors?null:o.forgotPasswordForm.controls.email.errors.required)&&o.forgotPasswordForm.controls.email.touched),n.R7$(1),n.Y8G("ngIf",(null==o.forgotPasswordForm.controls.email.errors?null:o.forgotPasswordForm.controls.email.errors.email)&&o.forgotPasswordForm.controls.email.touched),n.R7$(1),n.Y8G("disabled",o.forgotPasswordForm.invalid),n.R7$(2),n.Y8G("ngIf",o.successMessage))},dependencies:[u.bT,c.Wk,e.qT,e.me,e.BC,e.cb,e.j4,e.JD]})}}return t})()}];let I=(()=>{class t{static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275mod=n.$C({type:t})}static{this.\u0275inj=n.G2t({imports:[c.iI.forChild(y),c.iI]})}}return t})(),G=(()=>{class t{static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275mod=n.$C({type:t})}static{this.\u0275inj=n.G2t({imports:[u.MD,I,e.YN,e.X1]})}}return t})()}}]);